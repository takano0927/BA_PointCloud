# BA_PointCloud プロジェクト概要

## プロジェクトの目的

このプロジェクトは、Unity内で大規模なポイントクラウドをリアルタイムで効率的にレンダリングするためのシステムです。学士論文プロジェクトとして開発され、特にPotreeフォーマットのポイントクラウドデータを扱うことに特化しています。

## 主要機能

### 1. ポイントクラウドレンダリング
- **静的レンダリング**: 小さなポイントクラウドを完全に一度に読み込み・表示
- **動的レンダリング**: 大きなポイントクラウドをカメラ位置に基づいて部分的に読み込み・表示
- **Level of Detail (LOD)**: カメラ距離に応じた詳細度制御

### 2. 対応フォーマット
- Potree Format v1.7
- Potree Format v1.8
- Potree Format v2.0 (部分的サポート)

### 3. レンダリング機能
- **Eye Dome Lighting (EDL)**: ポイントクラウド専用の照明モデル
- **複数のシェーダーサポート**: 
  - ポイントベースレンダリング
  - クワッドベースレンダリング
  - パラボロイドレンダリング
- **動的ポイントサイズ調整**: スクリーンサイズまたはワールドサイズでの調整

### 4. パフォーマンス最適化
- **マルチスレッド処理**: 読み込み、巡回、レンダリングの並列処理
- **メモリ管理**: 効率的なキャッシュシステム
- **ポイント予算システム**: 同時に表示するポイント数の制御

## 技術的特徴

### アーキテクチャ
- **モジュラー設計**: コンポーネントベースのアーキテクチャ
- **拡張性**: 新しいレンダリング方式やフォーマットの追加が容易
- **Unity統合**: UnityエンジンのGameObjectシステムと完全統合

### データ構造
- **八分木（Octree）**: 階層的な空間分割による効率的なデータ管理
- **高精度座標**: double精度での計算とfloat精度での表示の使い分け
- **座標系変換**: 異なる座標系（Y-Z軸交換など）への対応

### 対応プラットフォーム
- Windows、macOS、Linux
- VR対応（HTC Vive等）
- WebGL（制限付き）

## 主要な更新履歴

### Version 1.6 (2023.07.09)
- Potree Format V2サポート追加
- Single Pass Instanced Renderingに対応

### Version 1.5 (2020.11.30)
- Potree Format V1.8サポート
- URLからのポイントクラウド読み込み機能

### Version 1.4 (2020.04.04)
- Streaming Assetsサポート強化
- 実行時ポイントクラウド管理機能

### Version 1.3 (2019.10.20)
- プレビュー機能追加
- Eye Dome Lighting実装
- Unity 2019対応

## 使用例

### 適用分野
- 3Dスキャンデータの可視化
- LiDARデータの表示
- 建築・土木の3Dモデル表示
- 研究・教育用途

### 利用シーン
- 建物の3Dスキャンデータ表示
- 地形データの可視化
- 文化財のデジタル保存
- VR/AR環境での3Dデータ表示

## 技術的制約

### 現在の制限
- Potree Converter 2.0で作成されたファイルは未サポート
- 色以外の属性値（強度など）は表示されない
- WebGLでの完全サポートは限定的

### 推奨環境
- Unity 2019以降
- 十分なメモリ容量（大規模データ用）
- 高性能GPU（複雑なシェーダー使用時）

## 将来的な拡張可能性

### 計画されている機能
- 適応ポイントサイズ機能
- オンデマンド階層読み込み
- LAZフォーマットサポート
- より柔軟なポイントクラウド変換機能

### 技術的改善
- WebGLサポート強化
- メモリ使用量の最適化
- より高速な読み込み処理
- 新しいレンダリング手法の実装

## コミュニティ貢献

このプロジェクトは複数の開発者により継続的に改善されており、GitHub上でオープンソースとして公開されています。バグ報告、機能要求、プルリクエストを歓迎しています。